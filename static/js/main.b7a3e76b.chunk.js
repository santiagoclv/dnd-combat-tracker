(this["webpackJsonpcombat-tracker"]=this["webpackJsonpcombat-tracker"]||[]).push([[0],{281:function(e,t,n){},282:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n(27),r=n.n(a),c=(n(184),n(25)),l=n(69),o=n.n(l),s=n(22),u=n(173),j=n(119),d=n.n(j),v="ADD_INITIATIVE",p="DELETE_ALL",b="LOAD_STATE",O="SET_INITIATIVES",y="REMOVE_CHARACTER",h="WRITE_INPUT_INITIATIVE",x="WRITE_INPUT_NAME",f="WRITE_INPUT_HP",m="DELETE_INPUT_INITIATIVE",g="DELETE_INPUT_NAME",I="DELETE_INPUT_HP",N="NEGATIVE_INPUT_INITIATIVE",C="NEXT",E="BACK",w="SELECT",k="EDIT_HP",T="EDIT_CONDITION",S="REMOVE_CONDITION",D="storedState",P={initiatives:[],selected:null,inputInitiative:0,inputName:"",inputHitpoints:0},_=function(e,t){switch(t.type){case v:var n,i,a={value:null!==(n=e.inputInitiative)&&void 0!==n?n:0,name:null!==(i=e.inputName)&&void 0!==i?i:"",hitpoints:e.inputHitpoints,id:Date.now(),monster:t.monster,conditions:[]},r=[].concat(Object(u.a)(e.initiatives),[a]).sort((function(e,t){return t.value-e.value}));return Object(s.a)(Object(s.a)({},e),{},{initiatives:r,inputInitiative:0,inputName:"",inputHitpoints:0});case p:return P;case b:return t.value;case O:return Object(s.a)(Object(s.a)({},e),{},{initiatives:t.initiatives});case y:var c=e.initiatives.filter((function(e){return e.id!==t.value}));return Object(s.a)(Object(s.a)({},e),{},{initiatives:c,selected:e.selected===t.value?null:e.selected});case h:var l=parseInt(e.inputInitiative+t.value);return Object(s.a)(Object(s.a)({},e),{},{inputInitiative:l});case x:var o=e.inputName+t.value;return Object(s.a)(Object(s.a)({},e),{},{inputName:o});case f:var j=parseInt(e.inputHitpoints+t.value);return Object(s.a)(Object(s.a)({},e),{},{inputHitpoints:j});case m:return Object(s.a)(Object(s.a)({},e),{},{inputInitiative:0});case I:return Object(s.a)(Object(s.a)({},e),{},{inputHitpoints:0});case g:var D,_;return Object(s.a)(Object(s.a)({},e),{},{inputName:null!==(D=null===e||void 0===e||null===(_=e.inputName)||void 0===_?void 0:_.slice(0,-1))&&void 0!==D?D:""});case N:return Object(s.a)(Object(s.a)({},e),{},{inputInitiative:-e.inputInitiative});case C:return Object(s.a)(Object(s.a)({},e),{},{initiatives:e.initiatives.slice(1).concat(e.initiatives.slice(0,1))});case E:return Object(s.a)(Object(s.a)({},e),{},{initiatives:e.initiatives.slice(-1).concat(e.initiatives.slice(0,-1))});case w:var A=e.initiatives.find((function(e){return e.id===t.value}));return Object(s.a)(Object(s.a)({},e),{},{selected:A.id,inputInitiative:null===A||void 0===A?void 0:A.value,inputName:null===A||void 0===A?void 0:A.name,inputHitpoints:null===A||void 0===A?void 0:A.hitpoints});case k:var H=e.initiatives.map((function(n){if(n.id===e.selected){var i=d()(n);return i.hitpoints=i.hitpoints+t.value,i}return n}));return Object(s.a)(Object(s.a)({},e),{},{initiatives:H});case T:var W=e.initiatives.map((function(n){if(n.id===e.selected){var i=d()(n);return i.conditions.push(t.value),i}return n}));return Object(s.a)(Object(s.a)({},e),{},{initiatives:W});case S:var F=e.initiatives.map((function(n){if(n.id===e.selected){var i=d()(n);return i.conditions=i.conditions.filter((function(e){return e.condition!==t.value.condition})),i}return n}));return Object(s.a)(Object(s.a)({},e),{},{initiatives:F});case"CLEAN":return Object(s.a)(Object(s.a)({},e),{},{inputInitiative:0,inputName:"",inputHitpoints:0,selected:null});default:throw new Error}},A=function(){var e=P;try{var t=localStorage.getItem(D);(e=t?JSON.parse(t):P).selected=null}catch(n){console.error("Error on init reducer",n)}return e},H=n(6),W=Object(i.createContext)(),F=function(e){var t=e.children,n=Object(i.useReducer)(_,P,A);return Object(i.useEffect)((function(){var e=Object(c.a)(n,1)[0];o()(e,P)||localStorage.setItem(D,JSON.stringify(e))}),[n]),Object(H.jsx)(W.Provider,{value:n,children:t})},L=function(){return Object(i.useContext)(W)},z=n(285),R=n(290),U=n(292),M=n(298),V=n(177),J=n(289),B=n(291),K=n(284),X=n(37),G=n(92),q=n(293),Q=n(294),Y=["className","style"],Z=J.a.confirm,$=Object(G.d)((function(){return Object(H.jsx)(q.a,{style:{width:"15px",cursor:"pointer",color:"#999"}})})),ee=Object(G.c)((function(e){return Object(H.jsx)("tr",Object(s.a)({},e))})),te=Object(G.b)((function(e){return Object(H.jsx)("tbody",Object(s.a)({},e))})),ne=function(e){var t=e.wider,n=L(),a=Object(c.a)(n,2),r=a[0].initiatives,l=a[1],o=Object(i.useMemo)((function(){var e=[{dataIndex:"sort",width:15,className:"drag-visible",render:function(){return Object(H.jsx)($,{})}},{title:"Name",width:"50px",className:"drag-visible",render:function(e){var t=e.name,n=e.monster;return Object(H.jsx)("span",{style:{fontWeight:500,color:n?"red":"green"},children:t})}},{title:"Init",key:"value",dataIndex:"value"}];return t&&(e.push({title:"HP",render:function(e){var t=e.hitpoints,n=e.monster;return Object(H.jsx)("span",{style:{fontWeight:500,color:t>0||!n?"green":"red"},children:t})}}),e.push({title:"Conditions",dataIndex:"conditions",key:"conditions",render:function(e){return Object(H.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:e.map((function(e){var t=e.color,n=e.condition;return Object(H.jsx)(B.a,{color:t,children:n},n)}))})}}),e.push({key:"id",render:function(e){var t=e.id,n=e.name;return Object(H.jsx)(Q.a,{onClick:function(){Z({title:"Do you Want to delete ".concat(null!==n&&void 0!==n?n:"","?"),icon:null,onOk:function(){l({type:y,value:t})}})}})}})),e}),[t,l]),u=function(e){var t=e.oldIndex,n=e.newIndex;if(t!==n){var i=Object(G.a)([].concat(r),t,n).filter((function(e){return!!e}));l({type:O,initiatives:i})}};return Object(H.jsxs)("div",{style:{height:"100vh",overflowX:"hidden",display:"flex",flexDirection:"column",justifyContent:"space-between",borderRight:"solid 2px lightgrey"},children:[Object(H.jsx)(K.a,{style:{height:"calc(100vh - 35px)",overflow:"scroll",overflowX:"hidden"},pagination:!1,dataSource:r,columns:o,rowKey:"id",rowSelection:{type:"radio",onChange:function(e){var t=Object(c.a)(e,1)[0];return l({type:w,value:t})}},components:{body:{wrapper:function(e){return Object(H.jsx)(te,Object(s.a)({useDragHandle:!0,helperClass:"row-dragging",onSortEnd:u},e))},row:function(e){e.className,e.style;var t=Object(V.a)(e,Y),n=r.findIndex((function(e){return e.id===t["data-row-key"]}));return Object(H.jsx)(ee,Object(s.a)({index:n},t))}}}}),Object(H.jsxs)(R.a,{style:{height:"40px"},children:[Object(H.jsx)(U.a,{span:12,children:Object(H.jsx)(X.a,{size:"large",style:{maxWidth:"150px",height:"100%"},type:"primary",disabled:r.length<2,onClick:function(){return l({type:E})},children:"Go Back"})}),Object(H.jsx)(U.a,{span:12,style:{display:"flex",flexDirection:"row-reverse"},children:Object(H.jsx)(X.a,{size:"large",style:{maxWidth:"150px",height:"100%"},type:"primary",disabled:r.length<2,onClick:function(){return l({type:C})},children:"Next Character"})})]})]})},ie=n(287),ae=n(296),re=n(295),ce=n(286),le=[{value:"1",type:h},{value:"2",type:h},{value:"3",type:h},{value:"4",type:h},{value:"5",type:h},{value:"6",type:h},{value:"7",type:h},{value:"8",type:h},{value:"9",type:h},{Icon:re.a,type:N},{value:"0",type:h}];function oe(){var e=L(),t=Object(c.a)(e,2)[1];return Object(H.jsx)(H.Fragment,{children:le.map((function(e){var n=e.type,i=e.value,a=e.Icon,r=e.danger;return Object(H.jsx)(U.a,{span:8,children:Object(H.jsx)(X.a,{danger:r,size:"large",style:{minWidth:"70px",height:"100%"},type:"primary",onClick:function(){return t({type:n,value:i})},children:i||Object(H.jsx)(a,{})})},n+i)}))})}function se(){var e=L(),t=Object(c.a)(e,1)[0].inputInitiative;return Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(R.a,{gutter:[16,16],justify:"center",children:Object(H.jsx)(U.a,{span:8,children:Object(H.jsx)(ce.a,{style:{margin:10},value:"Initiative: "+t,precision:0})})}),Object(H.jsx)(R.a,{gutter:[8,8],children:Object(H.jsx)(oe,{})})]})}var ue=[{value:"1",type:f},{value:"2",type:f},{value:"3",type:f},{value:"4",type:f},{value:"5",type:f},{value:"6",type:f},{value:"7",type:f},{value:"8",type:f},{value:"9",type:f},{},{value:"0",type:f}];function je(){var e=L(),t=Object(c.a)(e,2)[1];return Object(H.jsx)(H.Fragment,{children:ue.map((function(e){var n=e.type,i=e.value,a=e.Icon,r=e.danger;return n?Object(H.jsx)(U.a,{span:8,children:Object(H.jsx)(X.a,{danger:r,size:"large",style:{minWidth:"70px",height:"100%"},type:"primary",onClick:function(){return t({type:n,value:i})},children:i||Object(H.jsx)(a,{})})},null!==i&&void 0!==i?i:n):Object(H.jsx)(U.a,{span:8},"vacio")}))})}function de(){var e=L(),t=Object(c.a)(e,1)[0].inputHitpoints;return Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(R.a,{gutter:[16,16],justify:"center",children:Object(H.jsx)(U.a,{span:8,children:Object(H.jsx)(ce.a,{style:{margin:10},value:"HP: "+t,precision:0})})}),Object(H.jsx)(R.a,{gutter:[8,8],children:Object(H.jsx)(je,{})})]})}var ve=[{value:"q",type:x},{value:"w",type:x},{value:"e",type:x},{value:"r",type:x},{value:"t",type:x},{value:"y",type:x},{value:"u",type:x},{value:"i",type:x},{value:"o",type:x},{value:"p",type:x},{value:"a",type:x},{value:"s",type:x},{value:"d",type:x},{value:"f",type:x},{value:"g",type:x},{value:"h",type:x},{value:"j",type:x},{value:"k",type:x},{value:"l",type:x},{value:"\xf1",type:x},{value:"z",type:x},{value:"x",type:x},{value:"c",type:x},{value:"v",type:x},{value:"b",type:x},{value:"n",type:x},{value:"m",type:x},{value:"_",type:x},{value:"??",type:x},{value:"1",type:x},{value:"2",type:x},{value:"3",type:x},{value:"4",type:x},{value:"5",type:x},{value:"6",type:x},{value:"7",type:x},{value:"8",type:x},{value:"9",type:x},{value:"0",type:x}];function pe(e){var t=e.extraWords,n=L(),i=Object(c.a)(n,2)[1];return Object(H.jsx)(H.Fragment,{children:ve.concat(t).map((function(e){var t=e.type,n=e.value,a=e.Icon;return Object(H.jsx)(U.a,{children:Object(H.jsx)(X.a,{size:"large",style:{minWidth:"70px",height:"100%"},type:"primary",onClick:function(){return i({type:t,value:n})},children:n||Object(H.jsx)(a,{})})},n)}))})}var be=function(){var e,t,n=L(),i=Object(c.a)(n,1)[0].inputName,a=window.location.search,r=new URLSearchParams(a),l=r.get("players")?r.get("players"):null,o=null!==(e=null===l||void 0===l||null===(t=l.split("-"))||void 0===t?void 0:t.map((function(e){return{value:e,type:x}})))&&void 0!==e?e:[];return Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(R.a,{gutter:[16,16],justify:"center",children:Object(H.jsx)(U.a,{children:Object(H.jsx)(ce.a,{style:{margin:10},value:"Name: "+i})})}),Object(H.jsx)(R.a,{gutter:[8,8],children:Object(H.jsx)(pe,{extraWords:o})})]})},Oe=ie.a.Step,ye=[{title:"Name"},{title:"Initiative"},{title:"Hit Points"}];function he(){var e=L(),t=Object(c.a)(e,2)[1],n=Object(i.useState)(0),a=Object(c.a)(n,2),r=a[0],l=a[1];return Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(ie.a,{current:r,children:ye.map((function(e){return Object(H.jsx)(Oe,{title:e.title},e.title)}))}),1===r&&Object(H.jsx)(se,{}),0===r&&Object(H.jsx)(be,{}),2===r&&Object(H.jsx)(de,{}),Object(H.jsxs)("div",{className:"steps-action",children:[0===r&&Object(H.jsx)(X.a,{danger:!0,style:{width:"100px"},type:"primary",onClick:function(){return t({type:g})},children:Object(H.jsx)(ae.a,{})}),1===r&&Object(H.jsx)(X.a,{danger:!0,style:{width:"100px"},type:"primary",onClick:function(){return t({type:m})},children:Object(H.jsx)(Q.a,{})}),2===r&&Object(H.jsx)(X.a,{danger:!0,style:{width:"100px"},type:"primary",onClick:function(){return t({type:I})},children:Object(H.jsx)(Q.a,{})}),r>0&&Object(H.jsx)(X.a,{onClick:function(){return l(r-1)},children:"Previous"}),r<ye.length-1&&Object(H.jsx)(X.a,{type:"primary",onClick:function(){return l(r+1)},children:"Next"}),r===ye.length-1&&Object(H.jsx)(X.a,{type:"primary",danger:!0,onClick:function(){l(0),t({type:v,monster:!0})},children:"Create as a Monster"}),r===ye.length-1&&Object(H.jsx)(X.a,{type:"primary",onClick:function(){l(0),t({type:v,monster:!1})},children:"Create as a Player"})]})]})}var xe=n(288),fe=n(297),me=J.a.confirm,ge=function(e){localStorage.setItem("states",JSON.stringify(e))},Ie=function(){var e=[];try{var t=localStorage.getItem("states");e=t?JSON.parse(t):[]}catch(n){console.error("Error on getStates from settings",n)}return e};function Ne(){var e=L(),t=Object(c.a)(e,2),n=t[0],a=t[1],r=Object(i.useState)(null),l=Object(c.a)(r,2),o=l[0],s=l[1],u=Object(i.useState)(null),j=Object(c.a)(u,2),d=j[0],v=j[1],O=Object(i.useState)(Ie()),y=Object(c.a)(O,2),h=y[0],x=y[1];return Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(R.a,{gutter:[8,8],children:Object(H.jsx)(U.a,{children:Object(H.jsxs)(X.a,{size:"large",danger:!0,type:"primary",onClick:function(){me({title:"Do you want to delete everything in the store?",icon:null,onOk:function(){a({type:p})}})},children:[Object(H.jsx)(Q.a,{})," Delete Store"]})})}),Object(H.jsxs)(R.a,{gutter:[8,8],children:[Object(H.jsx)(U.a,{span:14,children:Object(H.jsx)(xe.a,{size:"large",placeholder:"name",value:d,onChange:function(e){var t=e.target.value;return v(t)}})}),Object(H.jsx)(U.a,{span:5,children:Object(H.jsx)(X.a,{size:"large",type:"primary",disabled:!d,onClick:function(){me({title:"Do you want to save the actual character set list?",icon:null,onOk:function(){var e={name:d,id:Date.now(),state:n};h.push(e),v(null),ge(h),setTimeout((function(){return x(Ie())}),0)}})},children:Object(H.jsx)(fe.a,{})})}),Object(H.jsx)(U.a,{span:5,children:Object(H.jsx)(X.a,{size:"large",type:"primary",disabled:!o,onClick:function(){me({title:"Do you want to activate this fight set list?",icon:null,onOk:function(){a({type:b,value:o})}})},children:"Activate"})})]}),Object(H.jsx)(K.a,{style:{overflow:"scroll",overflowX:"hidden"},pagination:!1,dataSource:h,columns:[{title:"Creation Date",key:"id",dataIndex:"id",render:function(e){return Object(H.jsx)("span",{children:new Date(e).toDateString()})}},{title:"Fight",key:"name",dataIndex:"name"},{render:function(e){var t=e.id,n=e.name;return Object(H.jsx)(Q.a,{onClick:function(){me({title:"Do you Want to delete ".concat(null!==n&&void 0!==n?n:"","?"),icon:null,onOk:function(){var e=null===h||void 0===h?void 0:h.filter((function(e){return t!==e.id}));ge(e),setTimeout((function(){return x(Ie())}),0)}})}})}}],rowKey:"state",rowSelection:{type:"radio",onChange:function(e){var t=Object(c.a)(e,1)[0];return s(t)}}})]})}var Ce=n(90),Ee=[{value:1,type:k},{value:2,type:k},{value:3,type:k},{value:5,type:k},{value:10,type:k},{value:20,type:k},{value:30,type:k},{value:50,type:k}],we=[{color:"grey",condition:"Petrified",add:T,remove:S},{color:"lime",condition:"Incapacitated",add:T,remove:S},{color:"gold",condition:"Unconscious",add:T,remove:S},{color:"orange",condition:"Paralyzed",add:T,remove:S},{color:"cornflowerblue",condition:"Invisible",add:T,remove:S},{color:"cyan",condition:"Deafened",add:T,remove:S},{color:"geekblue",condition:"Blinded",add:T,remove:S},{color:"blue",condition:"Frightened",add:T,remove:S},{color:"purple",condition:"Grappled",add:T,remove:S},{color:"burlywood",condition:"Restrained",add:T,remove:S},{color:"magenta",condition:"Charmed",add:T,remove:S},{color:"green",condition:"Poisoned",add:T,remove:S},{color:"red",condition:"Stunned",add:T,remove:S},{color:"volcano",condition:"Prone",add:T,remove:S}];function ke(e){var t=e.conditions,n=L(),i=Object(c.a)(n,2)[1];return Object(H.jsx)(H.Fragment,{children:we.map((function(e){var n=e.add,a=e.remove,r=e.condition,c=e.color,l=null===t||void 0===t?void 0:t.find((function(e){return e.condition===r}));return Object(H.jsx)(U.a,{span:6,children:Object(H.jsxs)(B.a,{color:"cornflowerblue",onClick:function(){return i({type:l?a:n,value:{condition:r,color:c}})},children:[l&&Object(H.jsx)(Q.a,{})," ",r]},r)},r)}))})}function Te(e){var t=e.isNegative,n=L(),i=Object(c.a)(n,2)[1];return Object(H.jsx)(H.Fragment,{children:Ee.map((function(e){var n=e.type,a=e.value,r=e.Icon;return n?Object(H.jsx)(U.a,{span:8,children:Object(H.jsxs)(X.a,{size:"large",style:{minWidth:"70px",height:"100%"},type:"primary",onClick:function(){return i({type:n,value:t?-a:a})},children:[t&&"- ",a||Object(H.jsx)(r,{})]})},a):Object(H.jsx)(U.a,{span:8},"vacio")}))})}function Se(){var e,t=L(),n=Object(c.a)(t,1)[0],a=n.initiatives,r=n.selected,l=Object(i.useState)(!0),o=Object(c.a)(l,2),s=o[0],u=o[1],j=null!==(e=null===a||void 0===a?void 0:a.find((function(e){return e.id===r})))&&void 0!==e?e:{},d=j.conditions,v=j.name;return Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)("div",{className:"LabelName",children:Object(H.jsx)("span",{className:"Name",children:v})}),Object(H.jsx)("div",{className:"LabelName",children:"Hit Points:"}),Object(H.jsx)(R.a,{gutter:[16,16],justify:"center",children:Object(H.jsx)(U.a,{children:Object(H.jsxs)(R.a,{gutter:[8,8],children:[Object(H.jsx)(U.a,{span:8,children:Object(H.jsx)(Ce.a,{checked:s,onChange:function(e){var t=e.target.checked;return u(t)},children:"Minus"})}),Object(H.jsx)(Te,{isNegative:s})]})})}),Object(H.jsx)("div",{className:"LabelName",children:"Conditions:"}),Object(H.jsx)(R.a,{gutter:[16,16],justify:"center",children:Object(H.jsx)(U.a,{children:Object(H.jsx)(R.a,{gutter:[8,8],children:Object(H.jsx)(ke,{conditions:d})})})})]})}var De=z.a.TabPane;function Pe(){var e=L(),t=Object(c.a)(e,1)[0].selected,n=Object(i.useState)("2"),a=Object(c.a)(n,2),r=a[0],l=a[1];return Object(i.useEffect)((function(){t||l("2")}),[t]),Object(H.jsxs)(R.a,{style:{width:"100%",height:"100%"},children:[Object(H.jsx)(U.a,{span:"2"===r?8:14,children:Object(H.jsx)(ne,{wider:"1"===r})}),Object(H.jsx)(U.a,{span:"2"===r?16:10,children:Object(H.jsxs)(z.a,{style:{padding:8},onChange:l,activeKey:r,children:[Object(H.jsx)(De,{tab:"Add Character",children:Object(H.jsx)(he,{})},"2"),Object(H.jsx)(De,{disabled:!t,tab:"Character Manager",children:Object(H.jsx)(Se,{})},"1"),Object(H.jsx)(De,{tab:Object(H.jsxs)(H.Fragment,{children:[" ",Object(H.jsx)(M.a,{})," Settings"]}),children:Object(H.jsx)(Ne,{})},"3")]})})]})}n(281);r.a.render(Object(H.jsx)(F,{children:Object(H.jsx)(Pe,{})}),document.getElementById("root"))}},[[282,1,2]]]);
//# sourceMappingURL=main.b7a3e76b.chunk.js.map